<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Numpy中多维数组对象的切片 | 玩味者 | 玩味者的理性空间</title>

  

  
  <meta name="description" content="本文参考：网址

我们来看这样一个例子
a = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
要将a中的所有偶数都变成0，应该如何做到呢？">
  

  
  
  <meta name="keywords" content="Python,Numpy">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="Numpy中多维数组对象的切片"/>

  <meta property="og:site_name" content="玩味者"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="玩味者" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">玩味者</a>
    </h1>
    <p class="site-description">玩味者的理性空间</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="../../../../index.html">主页</a></li>
      
        <li><a href="../../../../archives">归档</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>Numpy中多维数组对象的切片</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2019/10/16/Numpy中多维数组对象的切片/" rel="bookmark">
        <time class="entry-date published" datetime="2019-10-15T16:00:00.000Z">
          2019-10-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <blockquote>
<p>&#x672C;&#x6587;&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.scipy.org/doc/numpy/user/basics.indexing.html" target="_blank" rel="noopener">&#x7F51;&#x5740;</a></p>
</blockquote>
<p>&#x6211;&#x4EEC;&#x6765;&#x770B;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br></pre></td></tr></table></figure>
<p>&#x8981;&#x5C06;<code>a</code>&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5076;&#x6570;&#x90FD;&#x53D8;&#x6210;<code>0</code>&#xFF0C;&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x505A;&#x5230;&#x5462;&#xFF1F;</p>
<a id="more"></a>
<p>&#x8FD9;&#x91CC;&#x7684;&#x601D;&#x8DEF;&#x662F;&#xFF1A;&#x5229;&#x7528;&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5F97;&#x5230;&#x5176;&#x4E2D;&#x6240;&#x6709;&#x5076;&#x6570;&#x7684;&#x4E0B;&#x6807;&#xFF0C;&#x7136;&#x540E;&#x6839;&#x636E;&#x4E0B;&#x6807;&#x6765;&#x627E;&#x5230;&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x8D4B;&#x503C;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a[a % <span class="number">2</span> == <span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6240;&#x6709;&#x7684;&#x5076;&#x6570;&#x90FD;&#x53D8;&#x6210;&#x4E86;<code>0</code>&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x53D1;&#x751F;&#x4E86;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;</p>
<p>Numpy&#x7684;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x7684;&#x5207;&#x7247;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4E00;&#x79CD;&#x662F;<strong>&#x6307;&#x5B9A;&#x4E0B;&#x6807;&#x8303;&#x56F4;&#x7684;&#x5207;&#x7247;</strong>&#xFF0C;&#x4E00;&#x79CD;&#x662F;<strong>&#x5229;&#x7528;&#x7D22;&#x5F15;&#x6570;&#x7EC4;&#x53BB;&#x5207;&#x7247;</strong>&#x3002;&#x8BA9;&#x4EBA;&#x610F;&#x5916;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x6709;&#x7740;&#x4E0D;&#x540C;&#x7684;&#x884C;&#x4E3A;</p>
<h2 id="&#x6307;&#x5B9A;&#x4E0B;&#x6807;&#x8303;&#x56F4;&#x7684;&#x5207;&#x7247;">&#x6307;&#x5B9A;&#x4E0B;&#x6807;&#x8303;&#x56F4;&#x7684;&#x5207;&#x7247;</h2>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x662F;&#x8FD9;&#x6837;&#x7684;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a[<span class="number">0</span>:<span class="number">10</span>:<span class="number">2</span>, <span class="number">3</span>:<span class="number">100</span>:<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x5F97;&#x5230;&#x7684;&#x6570;&#x7EC4;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x539F;&#x6765;&#x6570;&#x7EC4;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5BF9;&#x539F;&#x6709;&#x6570;&#x636E;&#x7684;&#x590D;&#x5236;&#xFF0C;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5168;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x5B98;&#x7F51;&#x4E2D;&#x7684;&#x539F;&#x6587;&#x662F;</p>
<blockquote>
<p>Note that slices of arrays do not copy the internal array data but only produce new views of the original data.</p>
</blockquote>
<p>&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x5C31;&#x51B3;&#x5B9A;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x5BF9;&#x5207;&#x7247;&#x8FDB;&#x884C;&#x8D4B;&#x503C;&#x6216;&#x8005;&#x66F4;&#x6539;&#xFF0C;&#x90A3;&#x4E48;&#x539F;&#x6765;&#x7684;&#x6570;&#x7EC4;&#x4E5F;&#x4F1A;&#x88AB;&#x66F4;&#x6539;</p>
<h2 id="&#x5229;&#x7528;&#x7D22;&#x5F15;&#x6570;&#x7EC4;&#x53BB;&#x5207;&#x7247;">&#x5229;&#x7528;&#x7D22;&#x5F15;&#x6570;&#x7EC4;&#x53BB;&#x5207;&#x7247;</h2>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x662F;&#x8FD9;&#x6837;&#x7684;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a[([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])]</span><br></pre></td></tr></table></figure>
<p>&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x539F;&#x6765;&#x6570;&#x7EC4;&#x4E2D;&#x7684;<code>(0, 0)</code>&#xFF0C;<code>(1, 1)</code>&#xFF0C;<code>(2, 2)</code>&#x5750;&#x6807;&#x7684;&#x503C;</p>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x548C;&#x6307;&#x5B9A;&#x4E0B;&#x6807;&#x8303;&#x56F4;&#x7684;&#x5207;&#x7247;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x771F;&#x5B9E;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x662F;&#x539F;&#x6709;&#x6570;&#x636E;&#x7684;&#x590D;&#x5236;&#xFF0C;&#x6240;&#x4EE5;&#x6539;&#x53D8;&#x5B83;&#x7684;&#x503C;&#xFF0C;&#x662F;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x539F;&#x6709;&#x6570;&#x7EC4;&#x7684;</p>
<blockquote>
<p>For all cases of index arrays, what is returned is a copy of the original data, not a view as one gets for slices.</p>
</blockquote>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x80FD;&#x6211;&#x4EEC;&#x5F88;&#x5C11;&#x63A5;&#x89E6;&#x5230;&#xFF0C;&#x4F46;&#x662F;&#x50CF;&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684;&#x5BF9;&#x591A;&#x7EF4;&#x6570;&#x7EC4;&#x7684;&#x5E03;&#x5C14;&#x9009;&#x62E9;&#xFF0C;&#x5373;<code>a % 2 == 0</code>&#xFF0C;&#x8FD9;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x8FD4;&#x56DE;&#x7684;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5750;&#x6807;&#x5143;&#x7EC4;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5229;&#x7528;&#x7D22;&#x5F15;&#x6570;&#x7EC4;&#x5207;&#x7247;&#x7684;&#x65B9;&#x6CD5;</p>
<h2 id="&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x76F8;&#x540C;&#x548C;&#x4E0D;&#x540C;">&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x76F8;&#x540C;&#x548C;&#x4E0D;&#x540C;</h2>
<p>&#x867D;&#x7136;&#x8BF4;&#x4E00;&#x4E2A;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x5F15;&#x7528;&#xFF0C;&#x4E00;&#x4E2A;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x590D;&#x5236;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x53C8;&#x6709;&#x76F8;&#x540C;&#x7684;&#x884C;&#x4E3A;&#xFF1A;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a[<span class="number">0</span>:<span class="number">3</span>, <span class="number">0</span>:<span class="number">3</span>] = <span class="number">0</span></span><br><span class="line">a[a % <span class="number">2</span> == <span class="number">0</span>] = <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>&#x4EE5;&#x4E0A;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x90FD;&#x53EF;&#x4EE5;&#x6210;&#x529F;&#x5730;&#x5C06;<code>a</code>&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x6539;&#x53D8;</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">In [<span class="number">1</span>]: a = np.random.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">5</span>, <span class="number">5</span>)) </span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: a </span><br><span class="line">Out[<span class="number">2</span>]: </span><br><span class="line"><span class="built_in">array</span>([[<span class="number">2</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">8</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">3</span>]: a[<span class="number">0</span>:<span class="number">3</span>, <span class="number">0</span>:<span class="number">3</span>] = <span class="number">0</span> </span><br><span class="line"></span><br><span class="line">In [<span class="number">4</span>]: a </span><br><span class="line">Out[<span class="number">4</span>]: </span><br><span class="line"><span class="built_in">array</span>([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">8</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">5</span>]: b = np.random.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">In [<span class="number">6</span>]: b</span><br><span class="line">Out[<span class="number">6</span>]: </span><br><span class="line"><span class="built_in">array</span>([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>],</span><br><span class="line">       [<span class="number">9</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">9</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">7</span>]: b[b % <span class="number">2</span> == <span class="number">0</span>] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">8</span>]: b</span><br><span class="line">Out[<span class="number">8</span>]: </span><br><span class="line"><span class="built_in">array</span>([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">7</span>],</span><br><span class="line">       [<span class="number">9</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">9</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">5</span>]])</span><br></pre></td></tr></table></figure>
<p>&#x4F46;&#x662F;&#x5982;&#x679C;&#x5BF9;&#x8FD9;&#x4E24;&#x79CD;&#x5207;&#x7247;&#x7684;&#x7ED3;&#x679C;&#x518D;&#x9009;&#x5B9A;&#x5143;&#x7D20;&#x8D4B;&#x503C;&#xFF0C;&#x884C;&#x4E3A;&#x5C31;&#x4E0D;&#x4E00;&#x6837;&#x4E86;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a[<span class="number">0</span>:<span class="number">3</span>, <span class="number">0</span>:<span class="number">3</span>][<span class="number">0</span>, <span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">a[a % <span class="number">2</span> == <span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">[nav] In [<span class="number">22</span>]: a = np.random.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">5</span>, <span class="number">5</span>)) </span><br><span class="line"></span><br><span class="line">[ins] In [<span class="number">23</span>]: a </span><br><span class="line">Out[<span class="number">23</span>]: </span><br><span class="line"><span class="built_in">array</span>([[<span class="number">8</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">6</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">7</span>]])</span><br><span class="line"></span><br><span class="line">[nav] In [<span class="number">24</span>]: a[<span class="number">0</span>:<span class="number">3</span>, <span class="number">0</span>:<span class="number">3</span>][<span class="number">0</span>, <span class="number">0</span>] = <span class="number">0</span> </span><br><span class="line"></span><br><span class="line">[ins] In [<span class="number">25</span>]: a </span><br><span class="line">Out[<span class="number">25</span>]: </span><br><span class="line"><span class="built_in">array</span>([[<span class="number">0</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">6</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">7</span>]])</span><br><span class="line"></span><br><span class="line">[nav] In [<span class="number">26</span>]: b = np.random.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">5</span>, <span class="number">5</span>)) </span><br><span class="line"></span><br><span class="line">[ins] In [<span class="number">27</span>]: b </span><br><span class="line">Out[<span class="number">27</span>]: </span><br><span class="line"><span class="built_in">array</span>([[<span class="number">2</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">8</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>]])</span><br><span class="line"></span><br><span class="line">[ins] In [<span class="number">28</span>]: b[b % <span class="number">2</span> == <span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span> </span><br><span class="line"></span><br><span class="line">[ins] In [<span class="number">29</span>]: b </span><br><span class="line">Out[<span class="number">29</span>]: </span><br><span class="line"><span class="built_in">array</span>([[<span class="number">2</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">8</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>]])</span><br></pre></td></tr></table></figure>
<p>&#x540E;&#x4E00;&#x79CD;&#x884C;&#x4E3A;&#x7684;&#x4E0D;&#x540C;&#x8868;&#x660E;&#x4E86;&#x4E24;&#x8005;&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#x662F;&#x4E0D;&#x540C;&#x7684;&#xFF1A;<strong>&#x5F15;&#x7528;&#x7684;&#x6539;&#x53D8;&#x603B;&#x4F1A;&#x6539;&#x53D8;&#x539F;&#x6765;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x4F46;&#x662F;&#x590D;&#x5236;&#x65B0;&#x5BF9;&#x8C61;&#x7684;&#x6539;&#x53D8;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x539F;&#x6765;&#x7684;&#x6570;&#x7EC4;&#x3002;</strong></p>
<p>&#x73B0;&#x5728;&#x7684;&#x95EE;&#x9898;&#x5C31;&#x5F88;&#x5947;&#x602A;&#x4E86;&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;&#x76F4;&#x63A5;&#x5BF9;&#x8868;&#x8FBE;&#x5F0F;&#x8D4B;&#x503C;&#xFF0C;&#x4E24;&#x79CD;&#x5207;&#x7247;&#x65B9;&#x6CD5;&#x884C;&#x4E3A;&#x662F;&#x4E00;&#x6837;&#x7684;&#x5462;&#xFF1F;</p>
<p>&#x5728;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x7684;&#x6700;&#x540E;&#xFF0C;&#x7ED9;&#x51FA;&#x4E86;&#x4E00;&#x8282;Assigning values to indexed arrays&#xFF0C;&#x91CC;&#x9762;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x4E86;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x7684;&#x539F;&#x56E0;&#xFF1A;</p>
<blockquote>
<p>Unlike some of the references (such as array and mask indices) assignments are always made to the original data in the array (indeed, nothing else would make sense!). Note though, that some actions may not work as one may naively expect. This particular example is often surprising to people:</p>
</blockquote>
<p>&#x5BF9;&#x5E26;&#x7D22;&#x5F15;&#x7684;&#x5207;&#x7247;&#x65B9;&#x6CD5;&#xFF08;&#x6BD4;&#x5982;&#x6570;&#x7EC4;&#x7D22;&#x5F15;&#x6216;&#x8005;&#x63A9;&#x7801;&#x7D22;&#x5F15;&#xFF09;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x603B;&#x662F;&#x6539;&#x53D8;&#x539F;&#x6765;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x3002;&#x4F46;&#x662F;&#x6CE8;&#x610F;&#xFF0C;&#x6709;&#x4E9B;&#x884C;&#x4E3A;&#x5E76;&#x4E0D;&#x4F1A;&#x5982;&#x6211;&#x4EEC;&#x6240;&#x9884;&#x6599;&#x3002;&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.arange(<span class="number">0</span>, <span class="number">50</span>, <span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">array([ <span class="number">0</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[np.array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>])] += <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">array([ <span class="number">0</span>, <span class="number">11</span>, <span class="number">20</span>, <span class="number">31</span>, <span class="number">40</span>])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Where people expect that the 1st location will be incremented by <code>3</code>. In fact, it will only be incremented by <code>1</code>. The reason is because a new array is extracted from the original (as a temporary) containing the values at <code>1</code>, <code>1</code>, <code>3</code>, <code>1</code>, then the value <code>1</code> is added to the temporary, and then the temporary is assigned back to the original array. Thus the value of the array at <code>x[1]+1</code> is assigned to <code>x[1]</code> three times, rather than being incremented <code>3</code> times.</p>
</blockquote>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x60F3;&#x628A;&#x7B2C;<code>1</code>&#x4F4D;&#x7684;&#x5143;&#x7D20;&#x52A0;&#x4E09;&#x6B21;<code>1</code>&#xFF0C;&#x4F46;&#x662F;&#x7ED3;&#x679C;&#x662F;&#x4F1A;&#x52A0;&#x4E00;&#x6B21;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x79CD;&#x8D4B;&#x503C;&#x64CD;&#x4F5C;&#x7684;&#x5185;&#x90E8;&#x539F;&#x7406;&#x662F;&#x5C06;&#x539F;&#x6765;&#x7684;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x5148;&#x62F7;&#x8D1D;&#x51FA;&#x6765;&#xFF0C;&#x518D;&#x52A0;<code>1</code>&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x7ED3;&#x679C;&#x518D;&#x8D4B;&#x503C;&#x56DE;&#x539F;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x5C06;<code>x[1] + 1</code>&#x8FD9;&#x4E2A;&#x503C;&#x8D4B;&#x7ED9;<code>x[1]</code>&#x4E09;&#x6B21;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5BF9;<code>x[1]</code>&#x8FDE;&#x52A0;&#x4E09;&#x6B21;</p>
<p>&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x5C31;&#x660E;&#x767D;&#x4E86;&#xFF0C;&#x7B2C;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x4E24;&#x79CD;&#x5207;&#x7247;&#x65B9;&#x5F0F;&#x7684;&#x884C;&#x4E3A;&#x4E4B;&#x6240;&#x4EE5;&#x4E00;&#x81F4;&#xFF0C;&#x662F;&#x7531;&#x4E8E;&#x7D22;&#x5F15;&#x5207;&#x7247;&#x65B9;&#x5F0F;&#x4E2D;&#x7684;&#x8D4B;&#x503C;&#x64CD;&#x4F5C;&#x90FD;&#x88AB;&#x7279;&#x6B8A;&#x91CD;&#x8F7D;&#x8FC7;&#x4E86;&#xFF0C;&#x6709;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x5185;&#x90E8;&#x884C;&#x4E3A;&#xFF0C;&#x8FD9;&#x6837;&#x4E3A;&#x4E86;&#x80FD;&#x663E;&#x5F0F;&#x5730;&#x8BA9;&#x7528;&#x6237;&#x89C9;&#x5F97;&#x8D4B;&#x503C;&#x64CD;&#x4F5C;&#x5408;&#x4E4E;&#x903B;&#x8F91;&#xFF0C;&#x800C;&#x9690;&#x85CF;&#x4E86;&#x5185;&#x90E8;&#x7EC6;&#x8282;&#xFF0C;&#x5BFC;&#x81F4;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x884C;&#x4E3A;&#x4F1A;&#x8BA9;&#x4EBA;&#x89C9;&#x5F97;&#x8D39;&#x89E3;&#x3002;</p>
<p>&#x5728;Numpy&#x6216;&#x8005;&#x5176;&#x4ED6;&#x7684;Python&#x5305;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x8BA9;&#x51FD;&#x6570;&#x6216;&#x8005;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#x6613;&#x7528;&#xFF0C;&#x5E38;&#x5E38;&#x4F1A;&#x51FA;&#x73B0;&#x8FD9;&#x6837;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5728;&#x5B66;&#x4E60;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x3002;&#x7279;&#x522B;&#x662F;&#x5728;&#x51FA;&#x73B0;&#x4E86;&#x96BE;&#x4EE5;&#x8C03;&#x8BD5;&#x7684;Bug&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5F80;&#x8FD9;&#x65B9;&#x9762;&#x8003;&#x8651;&#x4E00;&#x4E0B;&#x3002;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Python/">Python</a><a href="/tags/Numpy/">Numpy</a>
    </span>
    

    </div>

    
  </div>
</article>

  






    </main>

    <footer class="site-footer">
  <!-- <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2019 玩味者
    
  </p> -->
</footer>
    
  </div>
</div>
</body>
</html>